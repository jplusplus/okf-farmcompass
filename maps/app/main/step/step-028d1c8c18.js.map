{"version":3,"sources":["/.tmp/app/main/step/app/main/step/step.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","MainStepController","$stateParams","$translate","$state","$scope","hotkeys","$sce","$window","this","angular","extend","uiOnParamsChanged","use","next","bind","previous","current","isFirst","isLast","progress","add","combo","callback","$inject","value","params","_step","Number","index","go","step","isOutro","meta","is","type","arguments","undefined","trustAs","get","location","href","module","component","templateUrl","controller","bindings"],"mappings":"AAAA,YAIA,SAASA,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAFhH,GAAIC,cAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAAiB,MAAO,UAAUR,EAAae,EAAYC,GAAiJ,MAA9HD,IAAYZ,EAAiBH,EAAYiB,UAAWF,GAAiBC,GAAab,EAAiBH,EAAagB,GAAqBhB,MAI5hBkB,mBAAqB,WACvB,QAASA,GAAmBC,EAAcC,EAAYC,EAAQC,EAAQC,EAASC,EAAMC,GACnF,UAEA3B,iBAAgB4B,KAAMR,GAEtBS,QAAQC,OAAOF,MAAQL,OAAQA,EAAQC,OAAQA,EAAQE,KAAMA,EAAMC,QAASA,IAE5EC,KAAKG,kBAAkBV,GAEvBO,KAAKI,IAAMV,EAAWU,IAEtBJ,KAAKK,KAAOL,KAAKK,KAAKC,KAAKN,MAC3BA,KAAKO,SAAWP,KAAKO,SAASD,KAAKN,MACnCA,KAAKQ,QAAUR,KAAKQ,QAAQF,KAAKN,MACjCA,KAAKS,QAAUT,KAAKS,QAAQH,KAAKN,MACjCA,KAAKU,OAASV,KAAKU,OAAOJ,KAAKN,MAC/BA,KAAKW,SAAWX,KAAKW,SAASL,KAAKN,MACnCA,KAAKQ,QAAUR,KAAKQ,QAAQF,KAAKN,MAEjCH,EAAQe,KAAMC,OAAQ,QAASC,SAAUd,KAAKO,WAC9CV,EAAQe,KAAMC,OAAQ,QAAS,SAAUC,SAAUd,KAAKK,OAyE1D,MA7FAb,GAAmBuB,SAAW,eAAgB,aAAc,SAAU,SAAU,UAAW,OAAQ,WAuBnGvC,aAAagB,IACXJ,IAAK,oBACL4B,MAAO,SAA2BC,GAChCjB,KAAKkB,MAAQC,OAAOF,EAAOG,OAAS,MAGtChC,IAAK,OACL4B,MAAO,WACDhB,KAAKU,SACPV,KAAKL,OAAO0B,GAAG,mBAEfrB,KAAKL,OAAO0B,GAAG,aAAeD,MAAOpB,KAAKsB,KAAO,OAIrDlC,IAAK,WACL4B,MAAO,WACDhB,KAAKuB,UACPvB,KAAKL,OAAO0B,GAAG,aACNrB,KAAKS,UACdT,KAAKL,OAAO0B,GAAG,QACNrB,KAAKsB,KAAO,GACrBtB,KAAKL,OAAO0B,GAAG,aAAeD,MAAOpB,KAAKsB,KAAO,OAIrDlC,IAAK,UACL4B,MAAO,WACL,MAAqB,KAAdhB,KAAKsB,QAGdlC,IAAK,SACL4B,MAAO,WACL,MAAOhB,MAAKsB,OAAStB,KAAKwB,KAAK3C,OAAS,KAG1CO,IAAK,UACL4B,MAAO,WACL,MAAOhB,MAAKL,OAAO8B,GAAG,sBAGxBrC,IAAK,UACL4B,MAAO,WACL,MAAOhB,MAAKwB,KAAKxB,KAAKsB,SAGxBlC,IAAK,WACL4B,MAAO,WACL,OAAQhB,KAAKsB,KAAOtB,KAAKuB,WAAavB,KAAKwB,KAAK3C,OAAS,OAG3DO,IAAK,UACL4B,MAAO,WACL,GAAIU,GAAOC,UAAU9C,OAAS,GAAsB+C,SAAjBD,UAAU,GAAmBA,UAAU,GAAK,OAC3EX,EAAQW,UAAU,EAEtB,OAAO3B,MAAKF,KAAK+B,QAAQ7B,KAAKF,KAAK4B,GAAOV,MAG5C5B,IAAK,OACL0C,IAAK,WACH,MAAO9B,MAAKkB,SAGd9B,IAAK,WACL0C,IAAK,WACH,MAAO9B,MAAKD,QAAQgC,SAASC,SAI1BxC,IAGTS,SAAQgC,OAAO,OAAOC,UAAU,aAC9BC,YAAa,0BACbC,WAAY5C,mBACZ6C,UACEb,KAAM","file":"../../../../app/main/step/step-028d1c8c18.js","sourcesContent":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MainStepController = function () {\n  function MainStepController($stateParams, $translate, $state, $scope, hotkeys, $sce, $window) {\n    'ngInject';\n\n    _classCallCheck(this, MainStepController);\n\n    angular.extend(this, { $state: $state, $scope: $scope, $sce: $sce, $window: $window });\n    // Initialize\n    this.uiOnParamsChanged($stateParams);\n    // Copy translate's use method\n    this.use = $translate.use;\n    // Bind local method to this\n    this.next = this.next.bind(this);\n    this.previous = this.previous.bind(this);\n    this.current = this.current.bind(this);\n    this.isFirst = this.isFirst.bind(this);\n    this.isLast = this.isLast.bind(this);\n    this.progress = this.progress.bind(this);\n    this.current = this.current.bind(this);\n    // Bind hot keys\n    hotkeys.add({ combo: ['left'], callback: this.previous });\n    hotkeys.add({ combo: ['space', 'right'], callback: this.next });\n  }\n\n  _createClass(MainStepController, [{\n    key: 'uiOnParamsChanged',\n    value: function uiOnParamsChanged(params) {\n      this._step = Number(params.index || 0);\n    }\n  }, {\n    key: 'next',\n    value: function next() {\n      if (this.isLast()) {\n        this.$state.go('main.step.outro');\n      } else {\n        this.$state.go('main.step', { index: this.step + 1 });\n      }\n    }\n  }, {\n    key: 'previous',\n    value: function previous() {\n      if (this.isOutro()) {\n        this.$state.go('main.step');\n      } else if (this.isFirst()) {\n        this.$state.go('main');\n      } else if (this.step > 0) {\n        this.$state.go('main.step', { index: this.step - 1 });\n      }\n    }\n  }, {\n    key: 'isFirst',\n    value: function isFirst() {\n      return this.step === 0;\n    }\n  }, {\n    key: 'isLast',\n    value: function isLast() {\n      return this.step === this.meta.length - 1;\n    }\n  }, {\n    key: 'isOutro',\n    value: function isOutro() {\n      return this.$state.is('main.step.outro');\n    }\n  }, {\n    key: 'current',\n    value: function current() {\n      return this.meta[this.step];\n    }\n  }, {\n    key: 'progress',\n    value: function progress() {\n      return (this.step + this.isOutro()) / this.meta.length * 100;\n    }\n  }, {\n    key: 'trustAs',\n    value: function trustAs() {\n      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'HTML';\n      var value = arguments[1];\n\n      return this.$sce.trustAs(this.$sce[type], value);\n    }\n  }, {\n    key: 'step',\n    get: function get() {\n      return this._step;\n    }\n  }, {\n    key: 'location',\n    get: function get() {\n      return this.$window.location.href;\n    }\n  }]);\n\n  return MainStepController;\n}();\n\nangular.module('app').component('main.step', {\n  templateUrl: 'app/main/step/step.html',\n  controller: MainStepController,\n  bindings: {\n    meta: '<'\n  }\n});"]}