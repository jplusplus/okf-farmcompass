{"version":3,"names":[],"mappings":"","sources":["/bower_components/bower_components/d3-jetpack/d3-jetpack.js"],"sourcesContent":["(function(root, factory) {\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = factory(require('d3'));\n    } else if (typeof define === 'function' && define.amd) {\n        define(['d3'], factory);\n    } else {\n        root.d3 = factory(root.d3);\n    }\n}(this, function(d3) {\n        \n    d3.selection.prototype.translate = function(xy) {\n        return this.attr('transform', function(d,i) {\n            return 'translate('+[typeof xy == 'function' ? xy.call(this, d,i) : xy]+')';\n        });\n    };\n\n    d3.transition.prototype.translate = function(xy) {\n        return this.attr('transform', function(d,i) {\n            return 'translate('+[typeof xy == 'function' ? xy.call(this, d,i) : xy]+')';\n        });\n    };\n\n    d3.selection.prototype.tspans = function(lines, lh) {\n        return this.selectAll('tspan')\n            .data(lines)\n            .enter()\n            .append('tspan')\n            .text(function(d) { return d; })\n            .attr('x', 0)\n            .attr('dy', function(d,i) { return i ? lh || 15 : 0; });\n    };\n\n    d3.selection.prototype.append = function(name) {\n        var n = d3_parse_attributes(name), s;\n        name = n.attr ? n.tag : name;\n        name = d3_selection_creator(name);\n        s = this.select(function() {\n            return this.appendChild(name.apply(this, arguments));\n        });\n        //attrs not provided by default in v4\n        for (var name in n.attr) { s.attr(name, n.attr[name]) }\n        return s;\n    };\n\n    d3.selection.prototype.insert = function(name, before) {\n        var n = d3_parse_attributes(name), s;\n        name = n.attr ? n.tag : name;\n        name = d3_selection_creator(name);\n        before = d3_selection_selector(before);\n        s = this.select(function() {\n            return this.insertBefore(name.apply(this, arguments), before.apply(this, arguments) || null);\n        });\n        //attrs not provided by default in v4\n        for (var name in n.attr) { s.attr(name, n.attr[name]) }\n        return s;\n    };\n\n    //no selection.enter in v4\n    if (d3.selection.enter){\n        d3.selection.enter.prototype.append = d3.selection.prototype.append\n        d3.selection.enter.prototype.insert = d3.selection.prototype.insert\n    }\n\n    var d3_parse_attributes_regex = /([\\.#])/g;\n\n    function d3_parse_attributes(name) {\n        if (typeof name === \"string\") {\n            var attr = {},\n                parts = name.split(d3_parse_attributes_regex), p;\n                name = parts.shift();\n            while ((p = parts.shift())) {\n                if (p == '.') attr['class'] = attr['class'] ? attr['class'] + ' ' + parts.shift() : parts.shift();\n                else if (p == '#') attr.id = parts.shift();\n            }\n            return attr.id || attr['class'] ? { tag: name, attr: attr } : name;\n        }\n        return name;\n    }\n\n    function d3_selection_creator(name) {\n        var qualify = d3.namespace || d3.ns.qualify //v4 API change\n        return typeof name === \"function\" ? name : (name = qualify(name)).local ? function() {\n            return this.ownerDocument.createElementNS(name.space, name.local);\n        } : function() {\n            return this.ownerDocument.createElementNS(this.namespaceURI, name);\n        };\n    }\n\n    function d3_selection_selector(selector) {\n        return typeof selector === \"function\" ? selector : function() {\n            return this.querySelector(selector);\n        };\n    }\n\n    d3.wordwrap = function(line, maxCharactersPerLine) {\n        var w = line.split(' '),\n            lines = [],\n            words = [],\n            maxChars = maxCharactersPerLine || 40,\n            l = 0;\n        w.forEach(function(d) {\n            if (l+d.length > maxChars) {\n                lines.push(words.join(' '));\n                words.length = 0;\n                l = 0;\n            }\n            l += d.length;\n            words.push(d);\n        });\n        if (words.length) {\n            lines.push(words.join(' '));\n        }\n        return lines;\n    };\n    \n    d3.ascendingKey = function(key) {\n        return typeof key == 'function' ? function (a, b) {\n              return key(a) < key(b) ? -1 : key(a) > key(b) ? 1 : key(a) >= key(b) ? 0 : NaN;\n        } : function (a, b) {\n              return a[key] < b[key] ? -1 : a[key] > b[key] ? 1 : a[key] >= b[key] ? 0 : NaN;\n        };\n    };\n\n    d3.descendingKey = function(key) {\n        return typeof key == 'function' ? function (a, b) {\n            return key(b) < key(a) ? -1 : key(b) > key(a) ? 1 : key(b) >= key(a) ? 0 : NaN;\n        } : function (a, b) {\n            return b[key] < a[key] ? -1 : b[key] > a[key] ? 1 : b[key] >= a[key] ? 0 : NaN;\n        };\n    };\n    \n    d3.f = function(){\n        var functions = arguments;\n        //convert all string arguments into field accessors\n        var i = 0, l = functions.length;\n        while (i < l) {\n            if (functions[i] in d3.f._) {\n                functions[i] = (function(f){ return function(d){ return f(d); }; })(d3.f._[functions[i]]);\n            } else if (typeof(functions[i]) === 'string' || typeof(functions[i]) === 'number'){\n                functions[i] = (function(str){ return function(d){ return d[str]; }; })(functions[i]);\n            } else if (typeof(functions[i]) === 'object'){\n                functions[i] = (function(map){ return function(d){ return map[d]; }; })(functions[i]);\n            }\n            i++;\n        }\n         //return composition of functions\n        return function(d) {\n            var i=0, l = functions.length;\n            while (i++ < l) d = functions[i-1].call(this, d);\n            return d;\n        };\n    };\n\n    // special operator functions\n    d3.f._ = {\n        'ƒ.call': function(d) { return d(); },\n        'ƒ.not': function(d) { return !d; }\n    };\n    \n    // store d3.f as convenient unicode character function (alt-f on macs)\n    if (typeof window !== 'undefined' && !window.hasOwnProperty('ƒ')) window.ƒ = d3.f;\n    \n    // this tweak allows setting a listener for multiple events, jquery style\n    var d3_selection_on = d3.selection.prototype.on;\n    d3.selection.prototype.on = function(type, listener, capture) {\n        if (typeof type == 'string' && type.indexOf(' ') > -1) {\n            type = type.split(' ');\n            for (var i = 0; i<type.length; i++) {\n                d3_selection_on.apply(this, [type[i], listener, capture]);\n            }\n        } else {\n            d3_selection_on.apply(this, [type, listener, capture]);\n        }\n        return this;\n    };\n    \n    // for everyone's sake, let's add prop as alias for property\n    d3.selection.prototype.prop = d3.selection.prototype.property;\n\n    // combines data().enter().append()\n    d3.selection.prototype.appendMany = function(data, name){\n        return this.selectAll(name).data(data).enter().append(name);\n    };\n    \n    d3.round = d3.round || function(n, p) {\n        d = Math.pow(10, p);\n        return Math.round(n * d) / d;\n    };\n\n    return d3;\n\n}));\n"],"file":"../../../bower_components/d3-jetpack/d3-jetpack.js"}